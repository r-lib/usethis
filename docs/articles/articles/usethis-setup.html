<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>usethis setup • usethis</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../jquery.sticky-kit.min.js"></script><script src="../../pkgdown.js"></script><meta property="og:title" content="usethis setup">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">usethis</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">Home</a>
</li>
<li>
  <a href="../../articles/articles/usethis-setup.html">Setup</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li>
  <a href="../../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/usethis">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>usethis setup</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/usethis/blob/master/vignettes/articles/usethis-setup.Rmd"><code>vignettes/articles/usethis-setup.Rmd</code></a></small>
      <div class="hidden name"><code>usethis-setup.Rmd</code></div>

    </div>

    
    
<p>You will get the most out of usethis if you do some setup. These setup tasks do not need to be done all at once or even done at all. But usethis can offer the most support for package development and Git/GitHub workflows with some advance configuration. usethis can even help you with this!</p>
<p>Key steps that accelerate your R development workflow (details on <em>how</em> to do all this follow):</p>
<ul>
<li>Make usethis available in interactive R sessions.</li>
<li>Sign up for a free GitHub.com account, if you plan to use GitHub.</li>
<li>Install Git.</li>
<li>Configure your Git <code>user.name</code> and <code>user.email</code>.</li>
<li>If you use RStudio, make sure RStudio can find your Git executable. If you use GitHub, make sure you can pull/push from your local computer to GitHub.com, in general and from RStudio.</li>
<li>Get a personal access token from GitHub.com and make it available in R sessions.</li>
<li>Provide usethis with info you’d like in the DESCRIPTION file of all new R packages you create.</li>
</ul>
<p>As you participate more in the R development scene, you will need to be able to install packages from source that contain compiled code, e.g. C or C++. This will come up even if <em>you</em> do not write such packages (yet). We touch on this at the end.</p>
<div id="use-usethis-in-interactive-work" class="section level2">
<h2 class="hasAnchor">
<a href="#use-usethis-in-interactive-work" class="anchor"></a>Use usethis in interactive work</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="../../reference/use_usethis.html">use_usethis</a></span>()</a></code></pre></div>
<p><code><a href="../../reference/use_usethis.html">usethis::use_usethis()</a></code> helps you make usethis available whenever you are working with R interactively. It opens <code>.Rprofile</code> for editing, shows the necessary code snippet in the console, and puts it on your clipboard. Paste, save, close, restart R. Done.</p>
<p>This is the snippet that needs to go in <code>.Rprofile</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="cf">if</span> (<span class="kw">interactive</span>()) {</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="kw">suppressMessages</span>(<span class="kw">require</span>(usethis))</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">}</a></code></pre></div>
<p>In the long-run, <a href="https://github.com/r-lib/devtools">devtools</a> should make all of usethis’s functions available and it should feel like they are part of devtools itself. But while the “devtools diaspora” is in process (written in first half of 2018), you may need to work with both usethis and devtools. If you attach both, we recommend attaching devtools, then usethis. In <code>.Rprofile</code>, that would look like so:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="cf">if</span> (<span class="kw">interactive</span>()) {</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="kw">suppressMessages</span>(<span class="kw">require</span>(devtools))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="kw">suppressMessages</span>(<span class="kw">require</span>(usethis))</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">}</a></code></pre></div>
<p>You can read more about <code>.Rprofile</code> in the official <a href="https://stat.ethz.ch/R-manual/R-patched/library/base/html/Startup.html">Startup documentation</a> or in Kevin Ushey’s blog post <a href="http://kevinushey.github.io/blog/2015/02/02/rprofile-essentials/">RProfile Essentials</a>.</p>
</div>
<div id="get-a-github-com-account" class="section level2">
<h2 class="hasAnchor">
<a href="#get-a-github-com-account" class="anchor"></a>Get a GitHub.com account</h2>
<p>Sign up for a free account with <a href="https://github.com/">GitHub.com</a>. <a href="http://happygitwithr.com/github-acct.html">Happy Git</a> provides more advice about picking your username and discusses ways to get private repositories.</p>
</div>
<div id="install-git" class="section level2">
<h2 class="hasAnchor">
<a href="#install-git" class="anchor"></a>Install Git</h2>
<p>Please see <a href="http://happygitwithr.com/install-git.html">Happy Git and GitHub for the useR</a> for instructions on how to install Git. It is beyond the scope of this article.</p>
<p>usethis itself does not actually need the Git that you install, because it uses the <a href="https://cran.r-project.org/package=git2r">git2r</a> package which wraps <a href="https://libgit2.github.com">libgit2</a>. But, chances are, you want to do normal Git things, like diff and commit and push, and for that you must install Git.</p>
</div>
<div id="configure-user-name-and-user-email" class="section level2">
<h2 class="hasAnchor">
<a href="#configure-user-name-and-user-email" class="anchor"></a>Configure <code>user.name</code> and <code>user.email</code>
</h2>
<p>Once Git is installed, introduce yourself to Git.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="../../reference/use_git_config.html">use_git_config</a></span>(<span class="dt">user.name =</span> <span class="st">"Jane Doe"</span>, <span class="dt">user.email =</span> <span class="st">"jane@example.com"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">## confirm the config</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw"><a href="../../reference/use_git_config.html">use_git_config</a></span>()</a></code></pre></div>
<p><code><a href="../../reference/use_git_config.html">usethis::use_git_config()</a></code> helps you configure your <code>user.name</code> and <code>user.email</code>. Substitute <strong>your name</strong> and <strong>your email address</strong>.</p>
<p>What user name should you give to Git? This does not have to be your GitHub username, although it can be. Another good option is your actual first name and last name. Your commits will be labelled with this name, so this should be informative to potential collaborators.</p>
<p>What email should you give to Git? This must be the email associated with your GitHub account.</p>
<div id="equivalent-git-commands" class="section level3">
<h3 class="hasAnchor">
<a href="#equivalent-git-commands" class="anchor"></a>Equivalent Git commands</h3>
<p>The code chunk above is doing the equivalent of this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="fu">git</span> config --global user.name <span class="st">'Jane Doe'</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="fu">git</span> config --global user.email <span class="st">'jane@example.com'</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="fu">git</span> config --global --list</a></code></pre></div>
</div>
<div id="optional-configure-gits-editor" class="section level3">
<h3 class="hasAnchor">
<a href="#optional-configure-gits-editor" class="anchor"></a>Optional: configure Git’s editor</h3>
<p>Another Git option that many people eventually configure is the editor. This will come up if you use Git from a shell. At some point, you will fail to give Git what it wants in terms of a commit message and it will kick you into an editor. This can be distressing, if it’s not your editor of choice and you don’t even know how to save and quit. You can enforce your will by executing this in a shell (not in R!):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="fu">git</span> config --global core.editor emacs</a></code></pre></div>
<p>Substitute your preferred editor for emacs here. A popular choice is <a href="https://www.nano-editor.org/">nano</a>. The default, if you don’t configure <code>core.editor</code>, is usually vim.</p>
</div>
</div>
<div id="connections-git-github-rstudio" class="section level2">
<h2 class="hasAnchor">
<a href="#connections-git-github-rstudio" class="anchor"></a>Connections: Git, GitHub, RStudio</h2>
<p>As stated above, usethis doesn’t actually use the Git you install and has no absolute requirement that you use GitHub or use RStudio. But use of usethis is highly correlated with the desire to do all of these things, in a pleasant way.</p>
<p>If you plan to use GitHub, you need to make sure your local Git can pull from and push to GitHub.com. That is beyond the scope of this article, but see the <a href="http://happygitwithr.com/push-pull-github.html">Connect to GitHub</a> section in Happy Git. You probably don’t want to enter your username and password all the time, so either <a href="http://happygitwithr.com/credential-caching.html">cache credentials for HTTPS</a> or <a href="http://happygitwithr.com/ssh-keys.html">set up SSH keys</a>. This can make it much easier for you to use <code><a href="../../reference/use_github.html">usethis::use_github()</a></code> in the future.</p>
<p>If you want to use RStudio to work with Git (and therefore GitHub, see previous paragraph), you need to make sure RStudio can find your Git executable. This usually “just works”. The <a href="http://happygitwithr.com/rstudio-git-github.html">Connect RStudio to Git and GitHub</a> section of Happy Git helps you confirm that all is well. If all is not well, there are also <a href="http://happygitwithr.com/rstudio-see-git.html">troubleshooting tips</a>.</p>
</div>
<div id="get-and-store-a-github-personal-access-token" class="section level2">
<h2 class="hasAnchor">
<a href="#get-and-store-a-github-personal-access-token" class="anchor"></a>Get and store a GitHub personal access token</h2>
<p>This is required if you want to use <code><a href="../../reference/use_github.html">usethis::use_github()</a></code> and <code><a href="../../reference/create_from_github.html">usethis::create_from_github(..., fork = TRUE)</a></code>. In both cases, usethis must create a new GitHub repository on your behalf, which is different from pulling to and pushing to <em>existing</em> repos, which is a Git operation.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="../../reference/browse_github_pat.html">browse_github_pat</a></span>()</a></code></pre></div>
<p><code><a href="../../reference/browse_github_pat.html">usethis::browse_github_pat()</a></code> takes you to a pre-filled form, where you can generate a GitHub personal access token (PAT). You can get to the same page in the browser by clicking on “Generate new token” from <a href="https://github.com/settings/tokens" class="uri">https://github.com/settings/tokens</a>.</p>
<p>As the page says, <strong>save this token</strong> because you’ll never be able to see it again, once you leave that page or close the windows. If you somehow goof this up, just generate a new PAT and, so you don’t confuse yourself, delete the lost token.</p>
<p><code><a href="../../reference/browse_github_pat.html">browse_github_pat()</a></code> provides a prompt to complete the setup, also described here. It is customary to save the PAT as an environment variable in your <code>.Renviron</code>, with the name <code>GITHUB_PAT</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw"><a href="../../reference/edit.html">edit_r_environ</a></span>()</a></code></pre></div>
<p><code><a href="../../reference/edit.html">usethis::edit_r_environ()</a></code> will open <code>.Renviron</code> for editing. Add a line like this, <strong>but substitute your PAT</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="va">GITHUB_PAT=</span>8c70fd8419398999c9ac5bacf3192882193cadf2</a></code></pre></div>
<p>Make sure this file ends in a newline! Lack of a newline can lead to silent failure to load this environment variable, which can be tricky to debug.</p>
<p>Restart R and confirm your PAT is now available:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">Sys.getenv</span>(<span class="st">"GITHUB_PAT"</span>)</a></code></pre></div>
<p>Now usethis (and a few other packages) can find this PAT automatically in order to deal with GitHub on your behalf.</p>
</div>
<div id="store-default-values-for-description-fields-in-all-new-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#store-default-values-for-description-fields-in-all-new-packages" class="anchor"></a>Store default values for DESCRIPTION fields in all new packages</h2>
<p>If you want to override the defaults for the DESCRIPTION file of packages that you create via <code><a href="../../reference/create_package.html">usethis::create_package()</a></code>, define those fields via <code>usethis.*</code> options in your <code>.Rprofile</code>.</p>
<p>The options are consulted for a named list called <code>usethis.description</code> and, if that does not exist, for backwards compatibility, <code>devtools.desc</code> is also consulted.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw"><a href="../../reference/edit.html">edit_r_profile</a></span>()</a></code></pre></div>
<p><code><a href="../../reference/edit.html">usethis::edit_r_profile()</a></code> opens your <code>.Rprofile</code> for editing.</p>
<p>Here is an example of R code that sets the authors, license, and version in all future DESCRIPTION files created by usethis:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">options</span>(</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="dt">usethis.name =</span> <span class="st">"Jane Doe"</span>,</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="dt">usethis.description =</span> <span class="kw">list</span>(</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    <span class="st">`</span><span class="dt">Authors@R</span><span class="st">`</span> =<span class="st"> 'person("Jane", "Doe", email = "jane@example.com", role = c("aut", "cre"))'</span>,</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">    <span class="dt">License =</span> <span class="st">"MIT + file LICENSE"</span>,</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">    <span class="dt">Version =</span> <span class="st">"0.0.0.9000"</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">  )</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">)</a></code></pre></div>
<p>Save similar code in your <code>.Rprofile</code> and restart R for it to take effect.</p>
</div>
<div id="prepare-your-system-to-build-packages-from-source" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-your-system-to-build-packages-from-source" class="anchor"></a>Prepare your system to build packages from source</h2>
<p>As you participate more in R development, you will inevitably want to run development versions of other people’s packages, i.e. not the version available from CRAN. A typical way to do this is to install a package from GitHub with <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("OWNER/REPO")</a></code>.</p>
<p>But, unlike using <code>install.packages()</code> and CRAN, you will be downloading and installing a <em>source</em> package, not a <em>binary</em> package. This means your system needs to be set up for building R packages. And, before long, you will need to build an R package with compiled code in it.</p>
<p>A full description of setting up an R development environment is beyond the scope of this article, but we give some pointers and diagnostics to get you started.</p>
<p>Update R and all of your packages. And expect to keep doing so frequently.</p>
<p><strong>Mac OS</strong>: A convenient way to get the tools needed for compilation is to install Xcode Command Line Tools. Note that this is <em>much smaller</em> than full Xcode. In a shell, enter <code>xcode-select --install</code>. For installing almost anything else, consider using <a href="https://brew.sh">Homebrew</a>.</p>
<p><strong>Windows</strong>: Install Rtools. This is not an R package! It is “a collection of resources for building packages for R under Microsoft Windows, or for building R itself”. Go to <a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a> and install as instructed.</p>
<p>There are functions that verify whether R package build tools are installed and available. The home and name of this function is in flux, as it is affected by the restructing of the devtools universe (written early 2018).</p>
<ul>
<li>
<code><a href="http://www.rdocumentation.org/packages/pkgbuild/topics/has_build_tools">pkgbuild::check_build_tools()</a></code> is the most current function, but at the time of writing, pkgbuild is not on CRAN yet. It is being developed at <a href="https://github.com/r-lib/pkgbuild" class="uri">https://github.com/r-lib/pkgbuild</a> and can be installed via <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("r-lib/pkgbuild")</a></code>.</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">devtools::has_devel()</a></code> was a function in devtools, at least up to v1.13.5, so you might still see references to that. All functionality related to package building now lives in pkgbuild. But once you have installed pkgbuild, you should just use the function <code><a href="http://www.rdocumentation.org/packages/pkgbuild/topics/has_build_tools">pkgbuild::check_build_tools()</a></code> instead.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#use-usethis-in-interactive-work">Use usethis in interactive work</a></li>
      <li><a href="#get-a-github-com-account">Get a GitHub.com account</a></li>
      <li><a href="#install-git">Install Git</a></li>
      <li><a href="#configure-user-name-and-user-email">Configure <code>user.name</code> and <code>user.email</code></a></li>
      <li><a href="#connections-git-github-rstudio">Connections: Git, GitHub, RStudio</a></li>
      <li><a href="#get-and-store-a-github-personal-access-token">Get and store a GitHub personal access token</a></li>
      <li><a href="#store-default-values-for-description-fields-in-all-new-packages">Store default values for DESCRIPTION fields in all new packages</a></li>
      <li><a href="#prepare-your-system-to-build-packages-from-source">Prepare your system to build packages from source</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Jennifer Bryan, <a href="https://www.rstudio.com"><img src="https://tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
